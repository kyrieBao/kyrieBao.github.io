<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="&#34;auto&#34;"><head><meta charset="UTF-8"><meta name="referrer" content="no-referrer"><link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png"><link rel="icon" href="/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#447EA5"><meta name="description" content="uniapp是Dcloud公司的产品，是一个跨端开发框架，基于vue.js技术栈。开发者编写一套代码，可发布到iOS、Android、Web（响应式）、以及各种小程序（微信/支付宝/百度/头条/QQ/钉钉/淘宝）、快应用等多个平台。这是它的功能架构图，可以看下，了解下它的架构。"><meta name="author" content="鲍鹏飞"><meta name="keywords" content="Front End, CS, Design, Translation, Art, PM"><title>uni-app 入门实战 - kyrie&#39;blog</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.7.2/styles/github-gist.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"kyriebao.github.io",root:"/",version:"1.8.11",typing:{enable:!0,typeSpeed:100,cursorChar:"_",loop:!1},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.jpg",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:"TUTymGqxLvrN2qyPt0NvPAl6-9Nh9j0Va",app_key:"ytmTL6fjgDIbyM0wXNC3Evlm",server_url:"https://tutymgqx.lc-cn-e1-shared.com"}},search_path:"/local-search.xml"}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container" style="max-width:120rem"><a class="navbar-brand" href="/">&nbsp;<strong>kyrie'blog</strong>&nbsp;</a> <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="iconfont icon-link-fill"></i> 友链</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" target="_self" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="iconfont icon-books"></i> 文档</a><div class="dropdown-menu" aria-labelledby="navbarDropdown"><a class="dropdown-item" target="_blank" rel="noopener" href="https://hexo.fluid-dev.com/">主题博客 </a><a class="dropdown-item" target="_blank" rel="noopener" href="https://hexo.fluid-dev.com/docs/guide/">配置指南 </a><a class="dropdown-item" target="_blank" rel="noopener" href="https://hexo.fluid-dev.com/docs/icon/">图标用法</a></div></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" data-toggle="modal" data-target="#modalSearch">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"><div class="banner" id="banner" parallax="true" style="background:url(https://rmt.dogedoge.com/fetch/fluid/storage/bg/dojm2h.png?w=1920&q=100&fmt=webp) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="uni-app 入门实战"></span><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-09-27 17:10" pubdate>2021年9月27日 下午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 5.4k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 60 分钟 </span><span id="leancloud-page-views-container" class="post-meta" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="leancloud-page-views"></span> 次</span></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">uni-app 入门实战</h1><div class="markdown-body"><h1 id="uni-app-入门实战"><a href="#uni-app-入门实战" class="headerlink" title="uni-app 入门实战"></a>uni-app 入门实战</h1><blockquote><p>本文由 Fluid 用户授权转载，版权归原作者所有。</p><p>本文作者：Kyrie</p></blockquote><p><a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/README">uniapp</a>是Dcloud公司的产品，是一个跨端开发框架，基于vue.js技术栈。开发者编写一套代码，可发布到iOS、Android、Web（响应式）、以及各种小程序（微信/支付宝/百度/头条/QQ/钉钉/淘宝）、快应用等多个平台。这是它的功能架构图，可以看下，了解下它的架构。</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261530975.png" srcset="/img/loading.jpg" lazyload></p><p>简单总结下，uniapp底层集成了native技术，就是h5+引擎，能调用手机原生api，所以uniapp能开发接近原生性能的app，这是js引擎部分；它是双引擎，渲染又是独立一个独立引擎。这个渲染引擎又分为nvue渲染和webview渲染，nvue其实就是集成的weex，webview这个有了解的应该知道它的内核是webkit，可以看这篇<a href="https://link.juejin.cn/?target=https://mp.weixin.qq.com/s/vxbVz_gHJd_rxK0bgUWBfg">文章</a>了解。</p><h2 id="生态环境"><a href="#生态环境" class="headerlink" title="生态环境"></a>生态环境</h2><p>uniapp官方的qq群目前已经有35个了，都是2000人的大群。还有各种基于uniapp的开源组件库，比如uViewUI、colorui、ThorUI、uCharts，最完整最出名的目前是uViewUI，官方文档也是比较完备了，<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/vxbVz_gHJd_rxK0bgUWBfg">uviewui.com/。</a> 他们的官方qq群现在有4个，可以加群找开发者解答疑问。uniapp官方说有600万开发者，整体上看，生态还算不错。</p><h3 id="正确姿势"><a href="#正确姿势" class="headerlink" title="正确姿势"></a>正确姿势</h3><ol><li><h4 id="阅读官方文档"><a href="#阅读官方文档" class="headerlink" title="阅读官方文档"></a>阅读官方文档</h4><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261546986.png" srcset="/img/loading.jpg" lazyload><a href="https://link.juejin.cn/?target=https://uniapp.dcloud.io/README">官方文档</a>从入门介绍到学习方法再到用法说明、注意事项等等，一应俱全。如果文档看不下去，可以看看社区帖子，或者从插件市场找些现成的用起来。</p></li><li><h4 id="活用插件市场"><a href="#活用插件市场" class="headerlink" title="活用插件市场"></a>活用插件市场</h4><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109271624276.png" srcset="/img/loading.jpg" lazyload></p><p>插件上包含了各种组件、SDK、项目模板等各种资源，甚至还有uniCloud、HbuilderX的相关插件。如果官方的基础组件、官方的uni-ui扩展组件库不能满足你的需求，都可以到插件市场找找看。官方是很重视这个插件市场的，比如uni-ui有一篇官方文档介绍说明<a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/component/README?id=uniui%EF%BC%8C%E7%82%B9%E5%87%BB%E4%B8%8B%E9%9D%A2%E7%9A%84%E7%BB%84%E4%BB%B6%E5%B0%B1%E4%BC%9A%E8%B7%B3%E8%BD%AC%E5%88%B0%E6%8F%92%E4%BB%B6%E5%B8%82%E5%9C%BA%EF%BC%8Cuniui%E5%85%A8%E9%83%A8%E6%95%A3%E8%90%BD%E5%9C%A8%E8%BF%99%E4%B8%AA%E6%8F%92%E4%BB%B6%E5%B8%82%E5%9C%BA%E9%87%8C%E3%80%82">uniapp.dcloud.io/component/R…</a></p><p>看这个插件市场排名，也能大概了解目前的插件市场现状，整体上还是比较活跃的：</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261556139.png" srcset="/img/loading.jpg" lazyload></p><p>除了上面提到的比较综合的组件库，其实还有很多优秀的插件作者，他们是专注在特定领域，下面推荐几个：</p><ul><li>可能是uniapp生态最好的<a target="_blank" rel="noopener" href="https://ext.dcloud.net.cn/plugin?id=578">路由插件</a></li><li>应该是最强大的<a target="_blank" rel="noopener" href="https://ext.dcloud.net.cn/plugin?id=805">富文本插件</a>(已经被uviewui集成)</li><li>个人觉得目前最好的<a target="_blank" rel="noopener" href="https://ext.dcloud.net.cn/plugin?id=491">table组件</a></li><li>挺不错的<a target="_blank" rel="noopener" href="https://ext.dcloud.net.cn/plugin?id=112">日期时间选择器</a></li></ul></li><li><h4 id="通过社区、qq群、插件留言向开发者提问"><a href="#通过社区、qq群、插件留言向开发者提问" class="headerlink" title="通过社区、qq群、插件留言向开发者提问"></a>通过社区、qq群、插件留言向开发者提问</h4><p>如果你严格按照文档进行开发，仍然遇到了问题，这时可能需要向他人求助了。如果是uniapp官方问题，可以在<a target="_blank" rel="noopener" href="https://ask.dcloud.net.cn/explore/">社区</a>查找相关资料，这里的案例相当多，基本能找到大部分问题；</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261601048.png" srcset="/img/loading.jpg" lazyload></p></li></ol><p>插件问题最好就是直接在插件市场对应插件下留言，如果你的问题描述清楚明确，都会有人回答，有的时候，在线就能等到回复。也可以加相应的qq群，里面的热心人还是不少的。</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261602115.png" srcset="/img/loading.jpg" lazyload></p><h2 id="实战教程"><a href="#实战教程" class="headerlink" title="实战教程"></a>实战教程</h2><h3 id="一、环境搭建"><a href="#一、环境搭建" class="headerlink" title="一、环境搭建"></a>一、环境搭建</h3><ol><li><h4 id="安装hbuilderX"><a href="#安装hbuilderX" class="headerlink" title="安装hbuilderX"></a>安装hbuilderX</h4><p>hbuilderx 也是dcloud公司出品的ide产品，用uniapp开发跨多端产品，实现一次开发，多端发布就必须用hbuilderx这个神器IDE。这里是官网下载地址<a target="_blank" rel="noopener" href="https://www.dcloud.io/hbuilderx.html%EF%BC%8C%E6%89%BE%E5%88%B0app%E5%BC%80%E5%8F%91%E7%89%88%E6%9C%AC%E4%B8%8B%E8%BD%BD%EF%BC%8C%E5%BC%80%E7%AE%B1%E5%8D%B3%E7%94%A8%EF%BC%8C%E4%B8%8D%E7%94%A8%E5%AE%89%E8%A3%85%E3%80%82uniapp%E5%AF%B9%E5%AE%89%E5%8D%93%E5%92%8C%E8%8B%B9%E6%9E%9C%E7%9A%84%E7%B3%BB%E7%BB%9F%E7%89%88%E6%9C%AC%E6%9C%89%E8%A6%81%E6%B1%82%EF%BC%9AAndroid%E6%9C%80%E4%BD%8E%E8%A6%814.4%E3%80%81IOS%E6%9C%80%E4%BD%8E%E8%A6%819%E3%80%82">www.dcloud.io/hbuilderx.h…</a></p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261611385.png" srcset="/img/loading.jpg" lazyload></p></li><li><h4 id="安装夜神模拟器"><a href="#安装夜神模拟器" class="headerlink" title="安装夜神模拟器"></a>安装夜神模拟器</h4><p>既然是开发app，就少不了连机调试，你可以连接手机，也可以安装一个模拟器，这里推荐夜神模拟器，下载地址：<a href="https://link.juejin.cn/?target=https://www.yeshen.com/%E3%80%82">www.yeshen.com/。</a></p></li><li><h4 id="配置环境"><a href="#配置环境" class="headerlink" title="配置环境"></a>配置环境</h4><p>hbuilderx连接到模拟器，选择工具–设置，打开配置界面,选择运行配置，如图。</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261638735.png" srcset="/img/loading.jpg" lazyload></p><p>adb路径选择模拟器安装包的adb.exe地址，模拟器端口，夜神模拟器默认是62001，填上就可以了。如果你不确定它的端口，可以在adb.exe的同级目录下找到文件，双击运行，可以看到这个结果，如图:</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261642440.png" srcset="/img/loading.jpg" lazyload></p><p>这个就是夜神模拟器的监听端口。</p></li><li><h4 id="svn源码管理"><a href="#svn源码管理" class="headerlink" title="svn源码管理"></a>svn源码管理</h4><ol><li>选择工具–插件安装，可以打开一个插件管理面板，如图。安装插件，它这里分为核心插件和其他插件两类，核心插件能跟随ide一起升级，其他插件就要到插件市场找自己需要的了。像svn这种插件，默认是没有的，可以到安装新插件这里安装svn插件。</li></ol><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261652559.png" srcset="/img/loading.jpg" lazyload></p></li><li><h4 id="插件市场插件安装"><a href="#插件市场插件安装" class="headerlink" title="插件市场插件安装"></a>插件市场插件安装</h4><p>插件市场的插件安装一般是这种方式：</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261654993.png" srcset="/img/loading.jpg" lazyload></p><p>点击这个按钮就可以安装到本地。这也分几种，我了解的就是组件类、编译类。像组件类，点击安装后会直接安装到当前打开的uniapp项目中，而且是指定的文件夹components中；像编译类，这种其实类似于webpack的loader，这个是放在hbx的安装包里。</p><h3 id="二、uniapp-手把手实战"><a href="#二、uniapp-手把手实战" class="headerlink" title="二、uniapp 手把手实战"></a>二、uniapp 手把手实战</h3><ol><li><h4 id="新建uniapp空模板項目"><a href="#新建uniapp空模板項目" class="headerlink" title="新建uniapp空模板項目"></a>新建uniapp空模板項目</h4><h5 id="cli模式"><a href="#cli模式" class="headerlink" title="cli模式"></a>cli模式</h5><p>用hbx创建项目在官方教程上讲得比较细致了，我这里只介绍下用vue-cli创建项目过程。创建步骤在官网上也有，相比用hbx的可视化搭建，用cli搭起来慢了不少。</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span>安装vue/cli全局依赖<br>npm install -g @vue/cli<br><br><span class="hljs-regexp">//</span>创建项目模板<br>vue create -p dcloudio/uni-preset-vue my-project<br><br></code></pre></td></tr></table></figure><p>如果在执行脚本时有这样的错误提示：vue: 无法加载文件 C:….vue.ps1。说明你的脚本运行被禁止了，解决办法就是打开当前项目地址的资源管理器，点击文件，弹出对话框，如图点击所示位置</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261718489.png" srcset="/img/loading.jpg" lazyload></p><p>会有弹出框，在里面执行这个段代码：</p><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs dsconfig"><span class="hljs-built_in">set-ExecutionPolicy</span> <span class="hljs-string">RemoteSigned</span> <br><br></code></pre></td></tr></table></figure><p>执行之后，按提示输入Y或者A就可以了，再按上面进行项目创建，就正常了：</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261719662.png" srcset="/img/loading.jpg" lazyload></p><p>最后，它会提示你选择项目模板：</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261720876.png" srcset="/img/loading.jpg" lazyload></p><p>一般建议选择hello uni-app的模板。如果一切顺利(理想情况下)，创建完成的项目，看起来是这样的，如下图</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261721885.png" srcset="/img/loading.jpg" lazyload></p><p>我们可以观察下它的package.json文件，可以看到有很多的打包、运行命令，uniapp确实帮我们做了很多事！</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261722755.png" srcset="/img/loading.jpg" lazyload></p><p>cd my-project进入到项目中，运行一下npm run dev:h5，试下效果。</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261724806.png" srcset="/img/loading.jpg" lazyload></p><p>可以看到确实成功了，打开启动页，按f12将页面切换到手机模式，就能看到效果了。</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261724122.png" srcset="/img/loading.jpg" lazyload></p><p>这种cli模式下无法连接到模拟器调试，要实时调试app版本，只能用hbx这个ide。cli模式除了能调试h5版本，还可以调试小程序，以微信小程序为例，这需要先准备好开发工具。</p><h5 id="hbuilderx模式"><a href="#hbuilderx模式" class="headerlink" title="hbuilderx模式"></a>hbuilderx模式</h5><p>考虑到app是我们最主要的产品输出，最好还是切换到hbuilderx编译器上，其实用习惯之后，感觉还是挺好用的。cli模式适合开发h5或者小程序。具体的步骤看<a href="https://link.juejin.cn/?target=https://uniapp.dcloud.io/quickstart?id=_1-%E9%80%9A%E8%BF%87-hbuilderx-%E5%8F%AF%E8%A7%86%E5%8C%96%E7%95%8C%E9%9D%A2">官网</a>就可以了，比较简单，可视化操作，一步步走就没问题。其实前面用cli模式创建的项目，也可以用hbx开发，在hbx编译器上打开文件夹，选择cli项目的src文件夹，就是一个标准的hbuilderx创建项目了。</p><p>这时选择运行–运行到模拟器就可以了</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109271635730.png" srcset="/img/loading.jpg" lazyload></p></li></ol></li></ol><p>​</p><ol start="2"><li><h4 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h4><p>我们来观察下这个项目结构，这是官方的一个介绍，我copy过来了</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs stylus">┌─cloudfunctions        云函数目录（阿里云为aliyun，腾讯云为tcb，详见uniCloud）<br>│─components            符合vue组件规范的uni-app组件目录<br>│  └─comp-<span class="hljs-selector-tag">a</span><span class="hljs-selector-class">.vue</span>         可复用的a组件<br>├─hybrid                存放本地网页的目录，详见<br>├─platforms             存放各平台专用页面的目录，详见<br>├─pages                 业务页面文件存放的目录<br>│  ├─index<br>│  │  └─index<span class="hljs-selector-class">.vue</span>       index页面<br>│  └─list<br>│     └─list<span class="hljs-selector-class">.vue</span>        list页面<br>├─static                存放应用引用静态资源（如图片、视频等）的目录，注意：静态资源只能存放于此<br>├─wxcomponents          存放小程序组件的目录，详见<br>├─<span class="hljs-selector-tag">main</span><span class="hljs-selector-class">.js</span>               Vue初始化入口文件<br>├─App<span class="hljs-selector-class">.vue</span>               应用配置，用来配置App全局样式以及监听 应用生命周期<br>├─manifest<span class="hljs-selector-class">.json</span>         配置应用名称、appid、logo、版本等打包信息，详见<br>└─pages<span class="hljs-selector-class">.json</span>            配置页面路由、导航条、选项卡等页面类信息，详见<br>    <br><br></code></pre></td></tr></table></figure><p>重点是pages、static、main.js、App.vue、manifest.json、pages.json这几个目录或者文件。</p></li><li><h4 id="必学内容"><a href="#必学内容" class="headerlink" title="必学内容"></a>必学内容</h4><p>我这里没必要把官方文档从头讲一遍，这里可以告诉你重点内容，你学习时重点关注，重点消化就可以了。</p><p>第一个就是框架介绍这里，你要把框架简介的内容通读并熟悉。</p><p>第二个就是上手开发了，这时框架这块要知道怎么用了，如何配置pages.json文件非常重要！具体的其实我也记不住，但是通过配置调试你就能知道是怎么回事了，这个熟悉就行了。</p></li><li><h4 id="uniapp路由页面配置-pages-json"><a href="#uniapp路由页面配置-pages-json" class="headerlink" title="uniapp路由页面配置(pages.json)"></a>uniapp路由页面配置(pages.json)</h4><p>打开pages.json文件，这是一个uniapp项目配置文件，是json格式。如果内容较多，可以右键–显示文档结构图，可以看到这个文件的基本结构<img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261739503.png" srcset="/img/loading.jpg" lazyload alt="3ec99f0c31e345d1a158e3e5138e663c_tplv-k3u1fbpfcp-watermark"></p><p>pages是项目中用到的所有的页面配置，第一项是登录app的启动页，一般放登录页或者首页，其他的可以参考<a href="https://link.juejin.cn/?target=https://uniapp.dcloud.io/collocation/pages?id=pages">官方文档</a>看看说明并手动设置下参数，看下效果就明白了。subPackages是分包加载配置，这个是为小程序准备的，小程序在发布上传代码时对总包大小(目前是16M)有要求，还要示对总包进行分包，每个小分包不能超过2M，这个就要求在这里进行配置分包加载。globalStyle这个是设置全局样式的，一般都会有一个统一风格的样式，可以在这里设置，包括导航栏、标题、窗口背景色这些。tabBar这个也非常重要，这是app的标配，相当于是一级导航栏，拿我们这个hello uniapp的项目举例来说，框住部分就是tabBar的内容。</p><p>tabBar各组内容最多只能有5项，最少要有2项，都在list项进行配置</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261743574.png" srcset="/img/loading.jpg" lazyload></p><p>看下list项具体内容</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261746477.png" srcset="/img/loading.jpg" lazyload></p></li><li><h4 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h4><p>这里按照粒度从粗到细分为应用生命周期、页面生命周期及组件生命周期，具体的可以看下<a href="https://link.juejin.cn/?target=https://uniapp.dcloud.io/collocation/frame/lifecycle?id=%E5%BA%94%E7%94%A8%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">文档</a>。其中组件生命周期是跟vue组件的生命周期相同。具体用法要结合业务场景配合来使用用。</p></li><li><h4 id="状态管理"><a href="#状态管理" class="headerlink" title="状态管理"></a>状态管理</h4><p><a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/use-weex?id=vue-%E5%92%8C-nvue-%E5%85%B1%E4%BA%AB%E7%9A%84%E5%8F%98%E9%87%8F%E5%92%8C%E6%95%B0%E6%8D%AE">状态管理</a>这块有几种方式，</p><ul><li><p>vuex</p><p>vuex用法与vue项目上是一样的。唯一要注意的就是import store from ‘./store/store.js’这句只能写在main.js里，在别处引用都会报错？！</p></li><li><p>uni.storage</p><p>这块看下对应api的具体用法，这个状态数据是持久化的，除非你调用它的清除接口，这个数据会一直缓存在本地。</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261750823.png" srcset="/img/loading.jpg" lazyload></p></li><li><p>globalData</p><p>这个用的比较少，这是在app.vue页面定义全局变量，具体<a href="https://link.juejin.cn/?target=https://uniapp.dcloud.io/collocation/App?id=globaldata">用法</a>如下：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs stylus">&lt;script&gt;  <br>    export default &#123;  <br>        globalData: &#123;  <br>            text: <span class="hljs-string">&#x27;text&#x27;</span>  <br>        &#125;<br>    &#125;  <br>&lt;/script&gt;<br><br><span class="hljs-comment">//在其他页面调用/修改全局变量</span><br><span class="hljs-function"><span class="hljs-title">getApp</span><span class="hljs-params">()</span></span><span class="hljs-selector-class">.globalData</span><span class="hljs-selector-class">.text</span> = <span class="hljs-string">&#x27;test&#x27;</span><br></code></pre></td></tr></table></figure></li></ul></li><li><h4 id="全局事件"><a href="#全局事件" class="headerlink" title="全局事件"></a>全局事件</h4><p>uniapp的API文档非常详细，甚至封装了全局事件，我们可以直接用了<img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261753922.png" srcset="/img/loading.jpg" lazyload alt="5f6d5706917441e9b6e5eba5cc836007_tplv-k3u1fbpfcp-watermark"></p></li><li><h4 id="接口请求封装"><a href="#接口请求封装" class="headerlink" title="接口请求封装"></a>接口请求封装</h4><p>这一块内容在API模块的<a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/api/request/request?id=request">网络</a>栏，一般的接口请求就用uni.request(object)就可以了。普通的接口调用用这个就已经够了，如果需要用到请求拦截，需要到插件市场找合适的插件。这里推荐<a target="_blank" rel="noopener" href="https://www.quanzhan.co/luch-request/">luch-request</a>,文档很清楚，功能比较全。</p></li><li><h4 id="路由跳转"><a href="#路由跳转" class="headerlink" title="路由跳转"></a>路由跳转</h4><p>路由跳转对应的<a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/api/router?id=navigateto">API</a>可能看下官方文档，基本上都是常用的。这里有个前提就是，当前页面必须在pages.json中配置好，才能调用这些跳转的api。还有个要注意的就是tabbar页面只能用uni.switchTab来跳转。我们知道vue有vueRouter来支持路由跳转、路由守卫，但是uniapp不支持这个插件，如果要在uniapp上实现，这里推荐<a target="_blank" rel="noopener" href="http://hhyang.cn/src/router/start/quickstart.html">uni-simple-router</a></p></li><li><h4 id="全局样式"><a href="#全局样式" class="headerlink" title="全局样式"></a>全局样式</h4><p>样式这一块要注意的地方比较多，我总结了一下特别要注意是这些地方：</p><ul><li>尺寸单位</li></ul><p>uniapp目前通用的尺寸单位是px、rpx，px即我们通常理解的像素单位；rpx是一个响应式单位，它会根据屏幕宽度按给定值占比来计算出像素值。</p><p>前面提到的pages.json页面的<a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/collocation/pages?id=globalstyle">globalStyle</a>配置节点，可以通过配置来控制rpx的计算参数</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261804917.png" srcset="/img/loading.jpg" lazyload></p><ul><li><p>css变量及固定值</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261805834.png" srcset="/img/loading.jpg" lazyload></p><p>这几个参数主要是在跨端样式控制时要注意，经常会遇到app布局弄得差不多了，然后到h5端，样式就不对了，或者到小程序上也是异常。看上面这个表，主要就是要注意这三个变量在不同环境下，它的值是不同的，要特别注意。下面这个表，是对上面的一个补充，如果在h5端，不存在原生顶部导航栏与tabBar，就是自定义的div，我们在设置样式时就要参照这些变量的固定值。</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109261807705.png" srcset="/img/loading.jpg" lazyload></p></li><li><p>字体图标</p><ul><li>通用的支持格式包括base64格式、网络路径即在线字体(须https开头)</li><li>小程序不支持在css中引用本地文件，包括图片或者字体</li><li>uniapp会自动把小于40kb的字体文件转换为base64，uniapp不会编译static文件夹下的内容</li></ul></li></ul><p>其他的像样式导入、内联样式等与web端应用开发差不多。还有一个要注意的就是如果要设置全局样式，可以在App.vue中设置或者用@import导入外联样式就可以了。</p></li><li><h4 id="组件和组件库"><a href="#组件和组件库" class="headerlink" title="组件和组件库"></a>组件和组件库</h4><p>组件这块是非常重要的，对uniapp来说包括框架设计、底层原理这些都是灵魂是骨架；前面讲到的各种规则及配置都是行为习惯、准则；还有前面提到的状态管理、路由、事件、样式、接口请求等，这些就像是血管、淋巴一样不可缺少；组件就是内脏、肌肉了，具体作用就看它的定位了。</p><p>官方文档这块将<a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/component/view">组件</a>专门列为一个栏目，可以大概看下有哪些组件。平时开发基本功能用官方提供的组件基本上就满足了。开源的组件库也是基于官方组件进行的二次封装，一般原则是优先参考官方组件，如果官方组件不支持的，或者用起来不方便的，再到开源市场寻找开源插件。</p></li><li><h4 id="登录跳转到首页"><a href="#登录跳转到首页" class="headerlink" title="登录跳转到首页"></a>登录跳转到首页</h4><p>接下来，我们开发一个登录跳转的功能。前面我们用vuecli创建了一个项目，那个是hellouni的，内容有点多，现在我们重新搭建一个空的项目模板，这样清楚一点。步骤跟前面一样，就是选择模板时选默认模板就行了。</p><h6 id="开发登录功能"><a href="#开发登录功能" class="headerlink" title="开发登录功能"></a>开发登录功能</h6><p>在空模板项目上尝试开发一个登录功能，一般需要这几步：</p><ul><li>新建一个登录页面，配置pages页面路由参数</li></ul><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109271205515.png" srcset="/img/loading.jpg" lazyload></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-string">&quot;pages&quot;</span>: [ <span class="hljs-regexp">//</span>pages数组中第一项表示应用启动页，参考：https:<span class="hljs-regexp">//u</span>niapp.dcloud.io<span class="hljs-regexp">/collocation/</span>pages<br>		&#123;<br>            <span class="hljs-string">&quot;path&quot;</span> : <span class="hljs-string">&quot;pages/login/login&quot;</span>,<br>            <span class="hljs-string">&quot;style&quot;</span> :                                                                                    <br>            &#123;<br>                <span class="hljs-string">&quot;navigationBarTitleText&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>                <span class="hljs-string">&quot;enablePullDownRefresh&quot;</span>: false<br>            &#125;<br>            <br>        &#125;,&#123;<br>			<span class="hljs-string">&quot;path&quot;</span>: <span class="hljs-string">&quot;pages/index/index&quot;</span>,<br>			<span class="hljs-string">&quot;style&quot;</span>: &#123;<br>				<span class="hljs-string">&quot;navigationBarTitleText&quot;</span>: <span class="hljs-string">&quot;uni-app&quot;</span><br>			&#125;<br>		&#125;<br>    ]<br><br></code></pre></td></tr></table></figure><ul><li>准备一个可用的登录接口，进行封装</li></ul><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs awk">uni.request(&#123;<br>					<span class="hljs-regexp">//</span> <span class="hljs-comment">#ifdef H5</span><br>					url: <span class="hljs-string">&#x27;/data-receive/v1/login&#x27;</span>,<br>					<span class="hljs-regexp">//</span> <span class="hljs-comment">#endif</span><br>					<span class="hljs-regexp">//</span> <span class="hljs-comment">#ifndef H5</span><br>					url: <span class="hljs-string">&#x27;http://##.##.##.##:##/data-receive/v1/login&#x27;</span>,<br>					<span class="hljs-regexp">//</span> <span class="hljs-comment">#endif</span><br>					method: <span class="hljs-string">&#x27;POST&#x27;</span>,<br>					data: &#123;<br>						username: this.name,<br>						password: this.password<br>					&#125;,<br>					dataType: <span class="hljs-string">&#x27;json&#x27;</span>,<br>					success(res) &#123;<br>						<span class="hljs-keyword">if</span> (res.statusCode == <span class="hljs-number">200</span> &amp;&amp; res.data.code == <span class="hljs-number">200</span>) &#123;<br>							<span class="hljs-regexp">//</span>跳转到首页<br>							uni.navigateTo(&#123;<br>								url: <span class="hljs-string">&#x27;../index/index&#x27;</span><br>							&#125;)<br>						&#125;<br>					&#125;<br>				&#125;)<br><br></code></pre></td></tr></table></figure><ul><li><p>新建登录页面，完成布局、样式，登录逻辑</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">&lt;<span class="hljs-keyword">template</span>&gt;<br>	&lt;<span class="hljs-keyword">view</span> <span class="hljs-keyword">class</span>=&quot;content&quot;&gt;<br>		&lt;<span class="hljs-keyword">view</span> <span class="hljs-keyword">class</span>=&quot;logo&quot;&gt;<br>			&lt;image src=&quot;../../static/logo.png&quot; mode=&quot;&quot;&gt;&lt;/image&gt;<br>		&lt;/<span class="hljs-keyword">view</span>&gt;<br>		&lt;<span class="hljs-keyword">view</span> <span class="hljs-keyword">class</span>=&quot;list&quot;&gt;<br>			&lt;<span class="hljs-keyword">view</span> <span class="hljs-keyword">class</span>=&quot;title&quot;&gt;<br>				用户名<br>			&lt;/<span class="hljs-keyword">view</span>&gt;<br>			&lt;<span class="hljs-keyword">view</span> <span class="hljs-keyword">class</span>=&quot;input&quot;&gt;<br>				&lt;<span class="hljs-keyword">input</span> <span class="hljs-keyword">type</span>=&quot;text&quot; placeholder=&quot;请输入用户名&quot; v-model=&quot;name&quot; /&gt;<br>			&lt;/<span class="hljs-keyword">view</span>&gt;<br>		&lt;/<span class="hljs-keyword">view</span>&gt;<br>		&lt;<span class="hljs-keyword">view</span> <span class="hljs-keyword">class</span>=&quot;list&quot;&gt;<br>			&lt;<span class="hljs-keyword">view</span> <span class="hljs-keyword">class</span>=&quot;title&quot;&gt;<br>				密码<br>			&lt;/<span class="hljs-keyword">view</span>&gt;<br>			&lt;<span class="hljs-keyword">view</span> <span class="hljs-keyword">class</span>=&quot;input&quot;&gt;<br>				&lt;<span class="hljs-keyword">input</span> <span class="hljs-keyword">type</span>=&quot;text&quot; placeholder=&quot;请输入密码&quot; v-model=&quot;password&quot; /&gt;<br>			&lt;/<span class="hljs-keyword">view</span>&gt;<br>		&lt;/<span class="hljs-keyword">view</span>&gt;<br>		&lt;button <span class="hljs-keyword">type</span>=&quot;default&quot; @tap=&quot;dologin&quot;&gt;登录&lt;/button&gt;<br>	&lt;/<span class="hljs-keyword">view</span>&gt;<br>&lt;/<span class="hljs-keyword">template</span>&gt;<br><br></code></pre></td></tr></table></figure></li><li><p>将登录接口分为两种情况：h5环境、非h5环境</p></li></ul><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">//</span> <span class="hljs-comment">#ifdef H5</span><br>url: <span class="hljs-string">&#x27;/data-receive/v1/login&#x27;</span>,<br><span class="hljs-regexp">//</span> <span class="hljs-comment">#endif</span><br><span class="hljs-regexp">//</span> <span class="hljs-comment">#ifndef H5</span><br>url: <span class="hljs-string">&#x27;http://##.##.##.##:##/data-receive/v1/login&#x27;</span>,<br><span class="hljs-regexp">//</span> <span class="hljs-comment">#endif</span><br><br></code></pre></td></tr></table></figure><ul><li><p>h5环境用代理解决跨域</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs ada"><span class="hljs-string">&quot;h5&quot;</span> : &#123;<br>        <span class="hljs-string">&quot;router&quot;</span> : &#123;<br>            <span class="hljs-string">&quot;base&quot;</span> : &quot;./&quot;<br>        &#125;,<br>        <span class="hljs-string">&quot;devServer&quot;</span> : &#123;<br>            <span class="hljs-string">&quot;proxy&quot;</span> : &#123;<br>                <span class="hljs-string">&quot;/data-receive&quot;</span> : &#123;<br>                    <span class="hljs-string">&quot;target&quot;</span> : &quot;<span class="hljs-type">http</span>://##.##.##.##:##/data-receive<span class="hljs-string">&quot;,</span><br><span class="hljs-string">                    &quot;</span>pathRewrite<span class="hljs-string">&quot; : &#123;</span><br><span class="hljs-string">                        &quot;</span>^/data-receive<span class="hljs-string">&quot; : &quot;&quot;</span><br><span class="hljs-string">                    &#125;</span><br><span class="hljs-string">                &#125;</span><br><span class="hljs-string">            &#125;</span><br><span class="hljs-string">        &#125;</span><br><span class="hljs-string">    &#125;</span><br></code></pre></td></tr></table></figure></li><li><p>页面跳转</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css">uni<span class="hljs-selector-class">.navigateTo</span>(&#123;<br>				url: <span class="hljs-string">&#x27;../index/index&#x27;</span><br>			&#125;)<br><br></code></pre></td></tr></table></figure><p>更多跳转请参考<a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/api/router?id=navigateto">路由与页面跳转</a></p></li></ul></li><li><h4 id="开发调试"><a href="#开发调试" class="headerlink" title="开发调试"></a>开发调试</h4><h6 id="app开发调试"><a href="#app开发调试" class="headerlink" title="app开发调试"></a>app开发调试</h6><h5><a href="#" class="headerlink"></a><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109271423300.png" srcset="/img/loading.jpg" lazyload></h5><h5 id="h5开发调试"><a href="#h5开发调试" class="headerlink" title="h5开发调试"></a>h5开发调试</h5><p>h5其实就是网页，这个调试就比较简单了，跟开发web项目一样的</p><ul><li>在hbx上运行到浏览器(内置或者其他浏览器)</li><li>f12并开启手机调试模式</li></ul><h5 id="小程序开发调试"><a href="#小程序开发调试" class="headerlink" title="小程序开发调试"></a>小程序开发调试</h5><p>首先要明白uniapp小程序版本的开发方式：开发还是在hbx上开发，只不过要运行到小程序开发工具上，然后在hbx上开发会实时更新到小程序上。也就是说小程序开发工具只是个模拟器，看效果的，上面的代码都是从uniapp版本编译过来的，对开发不太友好，不建议在小程序开发工具上修改。以下是微信小程序开发步骤：</p><ul><li>到微信公众平台注册一个小程序，并填写相关信息</li><li>在开发设置完成小程序开发者绑定，生成小程序之后会有一个小程序appid，这个要保存</li><li>下载安装小程序开发工具</li></ul><p>如果项目是第一次运行到小程序，需要在小程序开发工具上绑定前面注册保存的appid，小程序代码地址(此例是在newproject\src\unpackage\dist\dev\mp-weixin)，绑定好了就能看到小程序的开发状态了，就像这样：</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109271512781.png" srcset="/img/loading.jpg" lazyload></p><p>前面讲过小程序的开发还是在hbx上，小程序工具是看效果的，但是调试找bug还是得在小程序开发工具上，调式模块就在右下角，类似于谷歌浏览器的调试窗，如果觉得窗口太小，这击这个浮动窗口按钮就能弹出调试窗口。</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109271513051.png" srcset="/img/loading.jpg" lazyload></p><p>已经弹出的调试窗口</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109271517581.png" srcset="/img/loading.jpg" lazyload></p></li><li><h4 id="打包发布"><a href="#打包发布" class="headerlink" title="打包发布"></a>打包发布</h4><h5 id="app打包发布"><a href="#app打包发布" class="headerlink" title="app打包发布"></a>app打包发布</h5><p>app打包流程比较简单，分为安卓和苹果两大平台。一般app上线都应该走云打包流程，选择发行–&gt;原生App云打包，弹出这个对话框。</p><p>这个是安卓包，如果不需要上市场上的应用平台，就可以选择公共测试证书的打包方式。</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109271533954.png" srcset="/img/loading.jpg" lazyload></p><p>这是苹果版本的打包，苹果打包后要上线，只有上线appstore一条路，证书相关的三个文件都不能少。</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109271534045.png" srcset="/img/loading.jpg" lazyload></p><p>点击打包之后，进入云打包队列排队等待，成功之后会给出下载地址：</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109271535912.png" srcset="/img/loading.jpg" lazyload></p></li></ol><p>​ 安卓版本是可以直接安装使用的，你可以放在生产环境服务器上供用户下载。如果是苹果版本，打包后的ipa文件不能直接使用，还要提交到appstore审核通过，最后才能发布，这个周期大概在一周左右。</p><h5 id="app热更新"><a href="#app热更新" class="headerlink" title="app热更新"></a>app热更新</h5><p>在app上线之后，后面的版本升级就可以用热更新方式更新了，不用每次都发布一个新的完整包。选择发行–&gt;原生App-制作应用wgt包，弹出更新包对话框：</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109271537765.png" srcset="/img/loading.jpg" lazyload></p><p>生成wgt后，将wgt文件放在服务器，用户在app上检测到有更新时就会下载更新包在本地热更新。</p><ul><li><p>发行wgt时，manifest.json配置页面的应用版本名称与应用版本号都必须高于上一次设置的值；</p><p><img src="https://gitee.com/kyrie2021/photo/raw/master/img/202109271540898.png" srcset="/img/loading.jpg" lazyload></p></li><li><p>检测版本是否更新，如果有更新就下载更新包、安装并重启应用，这里有个完整<a target="_blank" rel="noopener" href="https://ask.dcloud.net.cn/article/35667">教程</a></p></li></ul><h5 id="h5打包发布"><a href="#h5打包发布" class="headerlink" title="h5打包发布"></a>h5打包发布</h5><p>h5版本的打包应该是最简单的，发布也可以按网页部署方式来，如果想用微信打开网页，最好将h5部署在外网域名所在的服务器上。</p><h5 id="小程序打包发布"><a href="#小程序打包发布" class="headerlink" title="小程序打包发布"></a>小程序打包发布</h5><ul><li><p>分包</p><p>小程序打包对包的大小有限制，之前是16M现在升级到了20M。具体的分包方法参考官方<a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages/basic.html">文档说明</a>，我们分包是要在uniapp上进行分包，注意<a target="_blank" rel="noopener" href="https://uniapp.dcloud.io/collocation/manifest?id=%E5%85%B3%E4%BA%8E%E5%88%86%E5%8C%85%E4%BC%98%E5%8C%96%E7%9A%84%E8%AF%B4%E6%98%8E">uniapp分包要求</a>。我写了关于<a target="_blank" rel="noopener" href="https://juejin.cn/post/6895310727544832013">uniapp适配微信小程序</a>的文章，对分包上传有说明，可以参考。</p></li><li><p>上传代码</p></li><li><p>提交审核</p></li></ul></div><hr><div><div class="post-metas mb-3"><div class="post-meta mr-3"><i class="iconfont icon-category"></i> <a class="hover-with-bg" href="/categories/%E5%89%8D%E7%AB%AF%E7%9F%A5%E8%AF%86/">前端知识</a></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a class="hover-with-bg" href="/tags/uni-app/">uni-app</a></div></div><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p><div class="post-prevnext"><article class="post-prev col-6"></article><article class="post-next col-6"><a href="/2021/09/10/Hexo%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4%E6%B1%87%E6%80%BB/"><span class="hidden-mobile">Hexo常用指令汇总</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article class="comments" id="comments" lazyload><div id="valine"></div><script type="text/javascript">Fluid.utils.loadComments("#valine",(function(){Fluid.utils.createScript("https://cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js",(function(){var e=Object.assign({appId:"TUTymGqxLvrN2qyPt0NvPAl6-9Nh9j0Va",appKey:"ytmTL6fjgDIbyM0wXNC3Evlm",placeholder:"说点什么",path:"window.location.pathname",avatar:"retro",meta:["nick","mail","link"],pageSize:10,lang:"zh-CN",highlight:!1,recordIP:!1,serverURLs:"",emojiCDN:null,emojiMaps:null,enableQQ:!1,requiredFields:[]},{el:"#valine",path:window.location.pathname});new Valine(e)}))}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="leancloud-site-pv-container" style="display:none">总访问量 <span id="leancloud-site-pv"></span> 次 </span><span id="leancloud-site-uv-container" style="display:none">总访客数 <span id="leancloud-site-uv"></span> 人</span></div><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>var now=new Date;function createtime(){var n=new Date("09/06/2021 17:38:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="本站已运行 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 小时 "+mnum+" 分 "+snum+" 秒"}setInterval("createtime()",250)</script></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/img-lazyload.js"></script><script src="https://cdn.jsdelivr.net/npm/tocbot@4.12.3/dist/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.1/anchor.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.8/dist/clipboard.min.js"></script><script src="/js/local-search.js"></script><script defer src="/js/leancloud.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12/lib/typed.min.js"></script><script>!function(t,i){(0,Fluid.plugins.typing)(i.getElementById("subtitle").title)}(window,document)</script><script src="/js/boot.js"></script></body><script type="text/javascript" color="122 103 238" opacity="0.7" zindex="-2" count="200" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js"></script><canvas class="fireworks" style="position:fixed;left:0;top:0;z-index:1;pointer-events:none"></canvas><script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script><script type="text/javascript" src="/js/firework.js"></script></html>